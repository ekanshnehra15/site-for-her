<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meters of Love</title>
  <style>
    :root {
      --peach-light: #fff6f0;
      --peach-base: #ffd1ba;
      --peach-dark: #ff9e80;
      --text-dark: #4a4a4a;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--peach-light);
      color: var(--text-dark);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      overflow-x: hidden;
    }

    nav {
      width: 100%;
      background: white;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
      border-radius: 0 0 20px 20px;
      position: sticky;
      top: 0;
      z-index: 100;
      align-items: center;
      padding: 1rem 2rem;
      background-color: white;
      border-radius: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .nav-links {
      display: flex;
      justify-content: center;
      gap: 30px;
      padding: 16px;
    }

    nav a {
      color: var(--peach-dark);
      text-decoration: none;
      font-weight: 600;
      padding: 8px 16px;
      border-radius: 10px;
      transition: 0.3s;
    }

    nav a:hover {
      background: var(--peach-base);
      color: white;
    }
    .hamburger {
      display: none;
      flex-direction: column;
      cursor: pointer;
      padding: 16px;
    }

    .hamburger span {
      height: 3px;
      background: var(--peach-dark);
      margin: 4px 0;
      width: 25px;
      border-radius: 2px;
    }

    @media (max-width: 700px) {
      .nav-links {
        display: none;
        flex-direction: column;
        text-align: center;
        gap: 10px;
        padding-bottom: 16px;
      }

      .nav-links.active {
        display: flex;
      }

      .hamburger {
        display: flex;
        align-items: flex-end;
        margin-left: auto;
        margin-right: 20px;
      }
    }

    .meter-container {
      text-align: center;
      margin-top: 120px;
      width: 90%;
      max-width: 500px;
    }

    h1 {
      color: var(--peach-dark);
      font-size: 2rem;
      margin-bottom: 30px;
    }

    .meter {
      width: 100%;
      height: 40px;
      background: #ffe5d9;
      border-radius: 25px;
      overflow: hidden;
      position: relative;
      margin-bottom: 20px;
      box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
    }

    .meter-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, var(--peach-base), var(--peach-dark));
      border-radius: 25px;
      transition: width 1.5s ease;
      position: relative;
    }

    .meter-fill::after {
      content: "❤";
      position: absolute;
      right: -20px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.2rem;
      opacity: 0;
      transition: opacity 0.5s;
    }

    .meter-fill.active::after {
      opacity: 1;
    }

    .buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
    }

    button {
      padding: 10px 20px;
      background: var(--peach-dark);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1rem;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background: var(--peach-base);
    }

    /* Broken animation */
    .broken {
      animation: shake 0.5s infinite;
      background: #ff7b7b !important;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20% { transform: translateX(-5px); }
      40% { transform: translateX(5px); }
      60% { transform: translateX(-5px); }
      80% { transform: translateX(5px); }
    }

    /* Confetti hearts */
    .heart {
      position: fixed;
      color: #ff9e80;
      font-size: 1.5rem;
      animation: fall 3s ease-in forwards;
      pointer-events: none;
      z-index: 999;
    }

    @keyframes fall {
      0% {
        opacity: 1;
        transform: translateY(-20px) scale(1);
      }
      100% {
        opacity: 0;
        transform: translateY(100vh) scale(0.5);
      }
    }
  </style>
</head>
<body>
  <nav>
    <div class="hamburger" onclick="toggleMenu()">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div class="nav-links" id="nav-links">
      <a href="index.html">Compliments</a>
      <a href="letters.html">Letters</a>
      <a href="trivia.html">Trivia</a>
      <a href="meters.html">Meters</a>
      <!-- You can add more here -->
    </div>
  </nav>

  <div class="meter-container">
    <h1 id="meter-title">My Love For You</h1>
    <div class="meter">
      <div class="meter-fill" id="meter-fill"></div>
    </div>
    <div class="buttons">
      <button onclick="measure()">Measure</button>
      <button onclick="nextMeter()">Next</button>
    </div>
  </div>

  <script>
    // 200+ meter labels
    const meters = [
      "My Love For You","How Much I Miss You","How Cute You Are","How Proud I Am Of You",
      "How Lucky I Am To Have You","How Much You Make Me Smile","How Beautiful You Are",
      "How Precious You Are To Me","How Much I Think About You","How Happy You Make Me",
      "How Much You Annoy Me","How Mad I Am At You","How Much I Want To Hug You",
      "How Much I Want To Kiss You","How Much I Care About You","How Special You Are To Me",
      "How Much You Deserve Chocolate","How Much I Crave Your Smile","How Much I Want You Here",
      "How Soft Your Cheeks Are","How Warm Your Hugs Are","How Adorable You Are When You Sleep",
      "How Much I Love Your Voice","How Perfect You Are To Me","How Much You Make Life Better",
      "How Much You Are My Home","How Excited I Am To See You","How Sweet You Are",
      "How Beautiful Your Eyes Are","How Much I Want To Hold Your Hand",
      "How Much I Want To Marry You","How Much You Mean To Me","How Pure Your Heart Is",
      "How Much You Calm Me Down","How Much You Support Me","How Lucky I Feel Daily",
      "How Much You Deserve The World","How Much You Inspire Me","How Much I Respect You",
      "How Much I Admire You","How Much You Make Me Laugh","How Much I Want To Travel With You",
      "How Much You Are My Safe Space","How Fun Life Is With You","How Much I Daydream About You",
      "How Amazing Your Smile Is","How Sweet You Look When Blushing","How Playful You Are",
      "How Much I Want To Dance With You","How Much I Love Your Hair","How Much I Miss Your Hug",
      "How Much I Miss Your Kiss","How Much I Want To Protect You",
      "How Much You Are My Favorite Person","How Much You Deserve Happiness",
      "How Much I’m Grateful For You","How Much You’re My Best Friend",
      "How Much You Complete Me","How Much You Make Everything Better",
    ];

    let currentIndex = 0;
    const meterTitle = document.getElementById('meter-title');
    const meterFill = document.getElementById('meter-fill');

    function measure() {
      meterFill.classList.remove('broken','active');
      meterFill.style.width = "0%";

      const currentMeter = meters[currentIndex];

      setTimeout(() => {
        // Randomly choose animation type
        const type = Math.random();

// Words that should always stay at 0
const zeroKeywords = ["annoy", "mad", "angry", "hate", "upset"];

if (zeroKeywords.some(word => currentMeter.toLowerCase().includes(word)) || type < 0.15) {
  // Always stays at 0
  meterFill.style.width = "0%";

        } else if (type < 0.4) {
          // 25% chance = overflow and break
          meterFill.style.width = "150%";
          meterFill.classList.add('broken');
          spawnHearts(20);
        } else {
          // Normal fill to 100%
          meterFill.style.width = "100%";
          meterFill.classList.add('active');
          spawnHearts(15);
        }
      }, 200);
    }

    function nextMeter() {
      currentIndex = (currentIndex + 1) % meters.length;
      meterTitle.textContent = meters[currentIndex];
      meterFill.style.width = "0%";
      meterFill.classList.remove('broken','active');
    }

    // Heart confetti animation
    function spawnHearts(count) {
      for (let i = 0; i < count; i++) {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.textContent = '❤';
        heart.style.left = Math.random() * window.innerWidth + 'px';
        heart.style.fontSize = (Math.random() * 1.5 + 1) + 'rem';
        document.body.appendChild(heart);

        setTimeout(() => {
          heart.remove();
        }, 3000);
      }
    }
    function toggleMenu() {
      document.getElementById('nav-links').classList.toggle('active');
    }
  </script>
</body>
</html>
