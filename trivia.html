<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Trivia</title>
<style>
:root {
    --peach-bg:#ffe9df;
    --peach:#ffd3c4;
    --peach-mid:#ffc1ad;
    --peach-accent:#ff9d80;
    --peach-accent-darker:#ff835f;
    --ink:#5a3d32;
    --radius:22px;
    --shadow:0 6px 18px -8px rgba(120,60,30,.25);
    --trans:.4s cubic-bezier(.55,.15,.15,1);
    font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}
* { box-sizing:border-box; }
body {
    margin:0;
    background:linear-gradient(140deg,var(--peach-bg),var(--peach));
    color:var(--ink);
    -webkit-font-smoothing:antialiased;
    line-height:1.35;
    display:flex;
    min-height:100dvh;
    flex-direction:column;
    overflow-x:hidden;
}
h1 {
    margin:0 0 1rem;
    font-size:clamp(1.9rem,4vw,2.7rem);
    letter-spacing:.5px;
    font-weight:600;
    background:linear-gradient(100deg,var(--ink),var(--peach-accent-darker));
    -webkit-background-clip:text;
    color:transparent;
    animation:fadeSlide .9s .1s both;
}
header {
    position:sticky;
    top:0;
    padding:1rem 1.4rem;
    display:flex;
    justify-content:space-between;
    align-items:center;
    z-index:60;
    backdrop-filter:blur(12px);
    background:rgba(255,240,232,.55);
    border-bottom:1px solid rgba(255,140,100,.25);
}
.logo {
    font-weight:600;
    font-size:1.05rem;
    letter-spacing:.5px;
    padding:.55rem 1rem;
    background:var(--peach-mid);
    border-radius:40px;
    box-shadow:var(--shadow);
    display:inline-flex;
    align-items:center;
    gap:.4rem;
    animation:popIn .65s .25s both;
}
.logo:before {
    content:"â˜…";
    font-size:.85rem;
    color:var(--peach-accent-darker);
    filter:drop-shadow(0 2px 4px rgba(255,120,80,.3));
    animation:twinkle 3.2s infinite;
}
@keyframes twinkle {
    0%,92%,100% { transform:scale(1) rotate(0deg); opacity:.9;}
    50% { transform:scale(1.35) rotate(20deg); opacity:1;}
}
button#menuBtn {
    all:unset;
    cursor:pointer;
    width:46px;
    height:46px;
    display:grid;
    place-items:center;
    border-radius:18px;
    position:relative;
    background:var(--peach-accent);
    box-shadow:var(--shadow);
    transition:var(--trans);
    animation:popIn .6s .3s both;
}
button#menuBtn:hover { background:var(--peach-accent-darker); transform:translateY(-3px) scale(1.04); }
button#menuBtn:active { transform:translateY(0) scale(.94); }
.bars, .bars:before, .bars:after {
    content:"";
    width:22px;
    height:3px;
    background:#fff;
    position:absolute;
    border-radius:3px;
    transition:var(--trans);
}
.bars:before { transform:translateY(-7px); }
.bars:after { transform:translateY(7px); }
button[aria-expanded="true"] .bars { background:transparent; }
button[aria-expanded="true"] .bars:before { transform:rotate(41deg); }
button[aria-expanded="true"] .bars:after { transform:rotate(-41deg); }
nav {
    position:fixed;
    inset:0;
    padding:calc(clamp(2.5rem,6vw,4rem) + 60px) clamp(2.5rem,6vw,4rem) clamp(2.5rem,6vw,4rem);
    backdrop-filter:blur(30px) saturate(140%);
    background:linear-gradient(155deg,rgba(255,207,188,.92),rgba(255,155,120,.88));
    display:flex;
    flex-direction:column;
    
    gap:2.4rem;
    transform:translateX(100%);
    transition:var(--trans);
    z-index:55;
}
nav.open { transform:translateX(0); }
nav ul {
    list-style:none;
    margin:0;
    padding:0;
    display:grid;
    gap:1rem;
}
nav a {
    display:flex;
    gap:.8rem;
    align-items:center;
    font-size:clamp(1.2rem,2.4vw,1.6rem);
    font-weight:500;
    color:var(--ink);
    text-decoration:none;
    padding:1rem 1.4rem;
    background:rgba(255,255,255,.55);
    border:1px solid rgba(255,150,110,.35);
    border-radius:30px;
    backdrop-filter:blur(6px);
    transition:var(--trans);
    position:relative;
    overflow:hidden;
}
nav a:before {
    content:"";
    position:absolute;
    inset:0;
    background:linear-gradient(90deg,rgba(255,180,150,.8),rgba(255,120,90,.6));
    opacity:0;
    transition:var(--trans);
    mix-blend-mode:overlay;
}
nav a:hover:before { opacity:.85; }
nav a:hover { transform:translateY(-6px); box-shadow:0 10px 30px -10px rgba(255,110,70,.5); }
main {
    width:100%;
    max-width:960px;
    margin:clamp(1.2rem,3vw,2.6rem) auto 4rem;
    padding:0 1.3rem 2rem;
}
.trivia-intro {
    font-size:clamp(.98rem,1.25vw,1.05rem);
    max-width:600px;
    background:rgba(255,255,255,.55);
    padding:1rem 1.35rem 1.1rem;
    border:1px solid rgba(255,140,100,.25);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    animation:fadeSlide .75s .2s both;
}
.questions {
    margin-top:2.2rem;
    display:grid;
    gap:1.6rem;
}
.card {
    position:relative;
    padding:1.4rem 1.25rem 1.55rem;
    background:linear-gradient(165deg,var(--peach-mid),var(--peach-accent));
    border-radius:calc(var(--radius) - 4px);
    overflow:hidden;
    color:#4a2f26;
    border:1px solid rgba(255,130,100,.4);
    box-shadow:0 10px 28px -14px rgba(120,50,20,.35);
    transform:translateY(12px) scale(.97);
    opacity:0;
    animation:cardIn .9s var(--delay) forwards;
}
.card:before {
    content:"";
    position:absolute;
    inset:0;
    background:
        radial-gradient(at 15% 20%,rgba(255,255,255,.55),transparent 60%),
        radial-gradient(at 85% 80%,rgba(255,220,200,.8),transparent 65%),
        radial-gradient(at 50% 50%,rgba(255,180,150,.25),transparent 70%);
    mix-blend-mode:overlay;
    pointer-events:none;
}
.card h2 {
    margin:0 0 .9rem;
    font-size:1.05rem;
    font-weight:600;
    letter-spacing:.4px;
    display:flex;
    align-items:center;
    gap:.55rem;
}
.card h2 span.index {
    background:rgba(255,255,255,.55);
    backdrop-filter:blur(4px);
    padding:.35rem .7rem;
    border-radius:1rem;
    font-size:.7rem;
    letter-spacing:1px;
    font-weight:700;
    color:var(--peach-accent-darker);
}
.options {
    display:grid;
    gap:.7rem;
}
.options button {
    all:unset;
    cursor:pointer;
    background:rgba(255,255,255,.65);
    padding:.85rem 1rem .9rem;
    border-radius:15px;
    font-size:.85rem;
    letter-spacing:.3px;
    line-height:1.2;
    position:relative;
    border:1px solid rgba(255,140,100,.35);
    transition:var(--trans);
    display:flex;
    gap:.65rem;
    align-items:center;
    min-height:46px;
}
.options button span.bullet {
    width:22px;
    height:22px;
    border-radius:50%;
    background:linear-gradient(140deg,var(--peach-accent),var(--peach-accent-darker));
    color:#fff;
    font-size:.65rem;
    display:grid;
    place-items:center;
    font-weight:600;
    letter-spacing:.5px;
    box-shadow:0 3px 8px -4px rgba(255,90,30,.4);
    flex-shrink:0;
    transform:scale(.88);
    transition:var(--trans);
}
.options button:hover {
    transform:translateY(-4px);
    box-shadow:0 12px 26px -12px rgba(90,40,15,.45);
}
.options button:hover span.bullet { transform:scale(1); }
.options button.selected {
    background:var(--peach-accent-darker);
    color:#fff;
    box-shadow:0 6px 20px -6px rgba(255,90,45,.55);
    border-color:rgba(255,255,255,.4);
}
.options button.selected span.bullet {
    background:#fff;
    color:var(--peach-accent-darker);
    transform:scale(1.08) rotate(8deg);
}
.resultBar {
    margin:2.2rem 0 0;
    display:flex;
    align-items:center;
    gap:1rem;
    flex-wrap:wrap;
    animation:fadeSlide .8s .45s both;
}
#submitBtn {
    all:unset;
    cursor:pointer;
    background:linear-gradient(120deg,var(--peach-accent-darker),var(--peach-accent));
    color:#fff;
    padding:.95rem 1.55rem 1rem;
    font-weight:600;
    font-size:.9rem;
    letter-spacing:.7px;
    border-radius:40px;
    position:relative;
    overflow:hidden;
    box-shadow:0 10px 26px -12px rgba(255,115,70,.6);
    transition:var(--trans);
}
#submitBtn:disabled {
    opacity:.45;
    cursor:not-allowed;
    transform:none;
    box-shadow:none;
}
#submitBtn:not(:disabled):hover { transform:translateY(-6px); }
#submitBtn:not(:disabled):active { transform:translateY(-1px) scale(.94); }
.scoreTag {
    background:rgba(255,255,255,.55);
    padding:.8rem 1rem;
    border-radius:18px;
    font-size:.8rem;
    letter-spacing:.5px;
    border:1px solid rgba(255,140,100,.35);
    display:flex;
    align-items:center;
    gap:.55rem;
    min-height:46px;
}
.scoreTag span.big {
    font-size:1.2rem;
    font-weight:600;
    background:linear-gradient(130deg,var(--peach-accent-darker),var(--ink));
    -webkit-background-clip:text;
    color:transparent;
}
footer {
    margin-top:auto;
    padding:2rem 1.4rem 2.6rem;
    text-align:center;
    font-size:.7rem;
    opacity:.65;
    animation:fadeSlide .8s .6s both;
}
@keyframes fadeSlide {
    from { opacity:0; transform:translateY(14px); }
    to { opacity:1; transform:translateY(0); }
}
@keyframes popIn {
    0% { opacity:0; transform:scale(.7) translateY(10px); }
    70% { opacity:1; transform:scale(1.03); }
    100% { transform:scale(1); opacity:1; }
}
@keyframes cardIn {
    0% { opacity:0; transform:translateY(30px) scale(.92) rotate(.6deg); }
    60% { transform:translateY(-4px) scale(1.01) rotate(-.4deg); }
    100% { opacity:1; transform:translateY(0) scale(1) rotate(0); }
}
@media (min-width:800px) {
    .questions { grid-template-columns:repeat(auto-fill,minmax(300px,1fr)); }
    .card { min-height:250px; display:flex; flex-direction:column; }
    .options { margin-top:auto; }
}
@media (prefers-reduced-motion:reduce) {
    * { animation:none !important; transition:.2s linear !important; }
}
* {
      -webkit-tap-highlight-color: transparent;
    }
    button, a {
      outline: none;
    }
</style>
</head>
<body>
<header>
    <div class="logo">Trivia</div>
    <button id="menuBtn" aria-label="Menu" aria-expanded="false">
        <span class="bars"></span>
    </button>
</header>

<nav id="navPanel" aria-hidden="true">
    <ul>
        <li><a href="compliments.html">Compliments</a></li>
        <li><a href="letters.html">Letters</a></li>
        <li><a href="trivia.html" aria-current="page">Trivia</a></li>
        <li><a href="game.html">Game</a></li>
        <li><a href="open-when.html">Open When...</a></li>
    </ul>
</nav>

<main>
    <h1>Foreign Policy</h1>
    <p class="trivia-intro">
        Date: 2nd September 2025
        <br>
        <br>
        I have no idea what these are, hope you like them.
    </p>

    <section class="questions" id="questionGrid" aria-live="polite">
        <!-- Questions injected by JS -->
    </section>

    <div class="resultBar">
        <button id="submitBtn" disabled>Submit Answers</button>
        <div class="scoreTag" id="scoreBox">
            <span class="big" id="scoreValue">0 / 5</span>
            <span id="scoreMsg">Make your picks</span>
        </div>
    </div>
</main>

<footer>
    ily &lt;3
</footer>

<script>
const QUESTIONS = [
  {
    text: "After the Battle of Clontarf in 1014, Gaelic culture no longer faced a major threat from what seafaring Norse people?",
    options: ["Saxons", "Normans", "Celts", "Vikings"],
    answer: 3 // d
  },
  {
    text: "In 2021, Emmanuel Macron acknowledged partial French responsibility for the 1994 genocide in what African nation, in which members of the Tutsi were murdered during a civil war there?",
    options: ["Sudan", "Congo", "Rwanda", "Uganda"],
    answer: 2 // c
  },
  {
    text: "Pretty much the opposite of a monarchy, what R-word type of government is defined as 'the power held by the people and those who they elect'?",
    options: ["Regency", "Republic", "Rulership", "Reign"],
    answer: 1 // b
  },
  {
    text: "The poverty-fighting agency Oxfam was founded in the relative comfort and safety of what guessable English university town?",
    options: ["Cambridge", "Durham", "Oxford", "Exeter"],
    answer: 2 // c
  },
  {
    text: "The ANZUS Agreement of 1951 is a non-binding security agreement between Australia, the United States, and what island nation?",
    options: ["Fiji", "New Zealand", "Papua New Guinea", "Samoa"],
    answer: 1 // b
  }
];

// export default QUESTIONS;

// export default QUESTIONS; // if using modules




const qGrid = document.getElementById("questionGrid");
const submitBtn = document.getElementById("submitBtn");
const scoreValue = document.getElementById("scoreValue");
const scoreMsg = document.getElementById("scoreMsg");

function buildQuestions() {
    QUESTIONS.forEach((q,i) => {
        const card = document.createElement("article");
        card.className = "card";
        card.style.setProperty("--delay", (0.15 * i + .35) + "s");
        card.setAttribute("data-index", i);

        card.innerHTML = `
            <h2><span class="index">${i+1}</span>${q.text}</h2>
            <div class="options" role="group" aria-label="Question ${i+1}">
                ${q.options.map((opt,oi)=>`
                    <button type="button" data-opt="${oi}" aria-pressed="false">
                        <span class="bullet">${String.fromCharCode(65+oi)}</span>
                        <span class="label">${opt}</span>
                    </button>
                `).join("")}
            </div>
        `;
        qGrid.appendChild(card);
    });
}
buildQuestions();

let selections = Array(QUESTIONS.length).fill(null);
qGrid.addEventListener("click", e => {
    const btn = e.target.closest(".options button");
    if(!btn) return;
    const card = btn.closest(".card");
    const qIndex = +card.dataset.index;
    [...card.querySelectorAll(".options button")].forEach(b=>{
        b.classList.remove("selected");
        b.setAttribute("aria-pressed","false");
    });
    btn.classList.add("selected");
    btn.setAttribute("aria-pressed","true");
    selections[qIndex] = +btn.dataset.opt;
    if(selections.every(v => v !== null))
        submitBtn.disabled = false;
    animatePulse(card);
});

function animatePulse(el){
    el.animate([
        { transform:"scale(1)" },
        { transform:"scale(1.025)" },
        { transform:"scale(1)" }
    ], { duration:450, easing:"cubic-bezier(.55,.15,.15,1)" });
}

submitBtn.addEventListener("click", () => {
    let score = 0;
    QUESTIONS.forEach((q,i)=> {
        const chosen = selections[i];
        const card = qGrid.querySelector(`.card[data-index="${i}"]`);
        const btns = card.querySelectorAll(".options button");
        btns.forEach(b=>{
            const opt = +b.dataset.opt;
            b.classList.remove("correct","incorrect");
            b.style.position="relative";
            if(opt === q.answer){
                if(selections[i] === opt) score++;
                b.dataset.correct = "true";
                b.animate([{boxShadow:"0 0 0 0 rgba(255,255,255,0)"},{boxShadow:"0 0 0 6px rgba(255,255,255,.3)"}],{duration:650,easing:"ease"});
            }
            if(selections[i] === opt && opt !== q.answer){
                b.dataset.chosenWrong = "true";
            }
        });
        // visual states
        card.querySelectorAll(".options button").forEach(b=>{
            if(b.dataset.correct){
                b.style.background="linear-gradient(135deg,#ffb89b,#ff8e72)";
                b.style.color="#fff";
            } else if(b.dataset.chosenWrong){
                b.style.background="linear-gradient(135deg,#5a3d32,#a05c43)";
                b.style.color="#fff";
                b.style.opacity="0.85";
            } else {
                b.style.opacity=".55";
            }
        });
    });
    scoreValue.textContent = `${score} / ${QUESTIONS.length}`;
    scoreMsg.textContent = score === QUESTIONS.length ? "correct" :
                                                 score >= Math.ceil(QUESTIONS.length*0.7) ? "correct!" :
                                                 score >= Math.ceil(QUESTIONS.length*0.4) ? "correct" :
                                                 "correct";
    submitBtn.disabled = true;
    submitBtn.textContent = "Sumbit Answers";
    submitBtn.addEventListener("click", resetTrivia, { once:true });
});

function resetTrivia() {
    qGrid.innerHTML = "";
    buildQuestions();
    selections = Array(QUESTIONS.length).fill(null);
    submitBtn.textContent = "Submit Answers";
    submitBtn.disabled = true;
    scoreValue.textContent = "0 / 5";
    scoreMsg.textContent = "Make your picks";
}

const menuBtn = document.getElementById("menuBtn");
const navPanel = document.getElementById("navPanel");
menuBtn.addEventListener("click", toggleMenu);
function toggleMenu() {
    const open = menuBtn.getAttribute("aria-expanded") === "true";
    menuBtn.setAttribute("aria-expanded", String(!open));
    navPanel.classList.toggle("open", !open);
    navPanel.setAttribute("aria-hidden", String(open));
    if(!open){
        trapFocus(navPanel);
    } else {
        releaseFocus();
    }
}
document.addEventListener("keydown", e=>{
    if(e.key==="Escape" && navPanel.classList.contains("open")){
        toggleMenu();
    }
});

/* Simple focus trap */
let previousFocus = null;
function trapFocus(container){
    previousFocus = document.activeElement;
    const focusables = [...container.querySelectorAll("a,button")];
    if(focusables[0]) focusables[0].focus();
    function cycle(e){
        if(e.key!=="Tab") return;
        const first = focusables[0];
        const last = focusables[focusables.length-1];
        if(e.shiftKey && document.activeElement===first){ e.preventDefault(); last.focus();}
        else if(!e.shiftKey && document.activeElement===last){ e.preventDefault(); first.focus(); }
    }
    container.addEventListener("keydown", cycle);
    container._cycle = cycle;
}
function releaseFocus(){
    if(previousFocus) previousFocus.focus();
    navPanel.removeEventListener("keydown", navPanel._cycle);
    previousFocus = null;
}
</script>
</body>
</html>